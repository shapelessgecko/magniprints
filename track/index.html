<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Track Order — MagniPrints</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/track.css">
</head>
<body>
    <!-- Mobile Navigation Overlay -->
    <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
    
    <!-- Mobile Navigation Sidebar -->
    <div class="mobile-nav-sidebar" id="mobileNavSidebar">
        <nav class="mobile-nav-links">
            <a href="../index.html">Home</a>
            <a href="../products/">Products</a>
            <a href="../custom/">Custom Print</a>
            <a href="index.html" class="active">Track</a>
        </nav>
        <div class="mobile-nav-divider"></div>
        <div class="mobile-nav-theme">
            <span>Dark Mode</span>
            <button class="theme-toggle mobile-sidebar-toggle" aria-label="Toggle theme">
                <svg class="sun-icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"/><path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42m12.72-12.72l1.42-1.42"/></svg>
                <svg class="moon-icon" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
            </button>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-logo">
            <svg viewBox="0 0 40 40" class="logo-icon">
                <path d="M20 2L4 12v16l16 10 16-10V12L20 2z" fill="none" stroke="currentColor" stroke-width="2"/>
                <path d="M20 8L10 14v12l10 6 10-6V14L20 8z" fill="currentColor" opacity="0.3"/>
                <circle cx="20" cy="22" r="4" fill="currentColor"/>
            </svg>
            <span class="logo-text">MagniPrints</span>
        </div>
        <div class="nav-links">
            <a href="../index.html">Home</a>
            <a href="../products/">Products</a>
            <a href="../custom/">Custom Print</a>
            <a href="index.html" class="active">Track</a>
        </div>
        <button class="theme-toggle desktop-toggle" aria-label="Toggle theme">
            <svg class="sun-icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"/><path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42m12.72-12.72l1.42-1.42"/></svg>
            <svg class="moon-icon" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
        </button>
        <button class="hamburger" id="hamburgerMenu" aria-label="Open menu">
            <span class="hamburger-lines"></span>
        </button>
    </nav>

    <main class="track-page">
        <div class="container">
            <div class="track-header">
                <h1>Track Your Order</h1>
                <p>Real-time print progress and delivery updates</p>
            </div>

            <!-- Order Search -->
            <div class="search-section">
                <div class="search-box">
                    <svg class="search-icon" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8" fill="none" stroke="currentColor" stroke-width="2"/><path d="M21 21l-4.35-4.35" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                    <input type="text" id="order-input" placeholder="Enter Order ID (e.g., MP25021201)" maxlength="10">
                    <button class="btn btn-primary" id="track-btn">Track</button>
                </div>
                <p class="search-hint">Try "DEMO" to see a live print preview</p>
            </div>

            <!-- Order Status (hidden by default) -->
            <div class="order-status hidden" id="order-status">
                <!-- Order Summary -->
                <div class="status-header">
                    <div class="order-id">
                        <span class="label">Order ID</span>
                        <span class="value" id="display-order-id">MP25021201</span>
                    </div>
                    <div class="eta-block">
                        <span class="label">Estimated Completion</span>
                        <div class="countdown" id="countdown">
                            <span class="time-unit">
                                <span class="number" id="hours">02</span>
                                <span class="unit">hrs</span>
                            </span>
                            <span class="separator">:</span>
                            <span class="time-unit">
                                <span class="number" id="minutes">34</span>
                                <span class="unit">min</span>
                            </span>
                            <span class="separator">:</span>
                            <span class="time-unit">
                                <span class="number" id="seconds">18</span>
                                <span class="unit">sec</span>
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Progress Steps -->
                <div class="progress-tracker">
                    <div class="progress-line">
                        <div class="progress-fill" id="step-progress"></div>
                    </div>
                    <div class="steps">
                        <div class="step completed" data-step="1">
                            <div class="step-icon">
                                <svg viewBox="0 0 24 24"><path d="M20 6L9 17l-5-5" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                            </div>
                            <span class="step-label">Confirmed</span>
                            <span class="step-time">Today, 09:30</span>
                        </div>
                        <div class="step completed" data-step="2">
                            <div class="step-icon">
                                <svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                            </div>
                            <span class="step-label">Preparing</span>
                            <span class="step-time">Today, 10:15</span>
                        </div>
                        <div class="step active" data-step="3">
                            <div class="step-icon">
                                <span class="pulse"></span>
                                <svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5v8c0 5-4 9-10 9s-10-4-10-9V7l10 5z" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                            </div>
                            <span class="step-label">Printing</span>
                            <span class="step-time">In Progress</span>
                        </div>
                        <div class="step" data-step="4">
                            <div class="step-icon">
                                <svg viewBox="0 0 24 24"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                            </div>
                            <span class="step-label">Quality Check</span>
                            <span class="step-time">Pending</span>
                        </div>
                        <div class="step" data-step="5">
                            <div class="step-icon">
                                <svg viewBox="0 0 24 24"><path d="M5 9l7 7 7-7M5 9V5a2 2 0 012-2h10a2 2 0 012 2v4M5 9h14" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                            </div>
                            <span class="step-label">Shipped</span>
                            <span class="step-time">Pending</span>
                        </div>
                    </div>
                </div>

                <!-- Main Content Grid -->
                <div class="status-grid">
                    <!-- Left: 3D Print Visualization -->
                    <div class="visualization-panel">
                        <div class="panel-header">
                            <h3>Live Print Preview</h3>
                            <span class="live-badge">LIVE</span>
                        </div>
                        
                        <div class="layer-visualizer" id="layer-visualizer">
                            <!-- 3D Layer visualization -->
                        </div>

                        <!-- Print Stats -->
                        <div class="print-stats">
                            <div class="stat-row">
                                <div class="stat-item">
                                    <span class="stat-icon">
                                        <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" fill="none" stroke="currentColor" stroke-width="2"/><path d="M14 2v6h6M16 13H8M16 17H8M10 9H8" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                                    </span>
                                    <div class="stat-details">
                                        <span class="stat-label">Current Layer</span>
                                        <span class="stat-value" id="current-layer">147 / 312</span>
                                    </div>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-icon">
                                        <svg viewBox="0 0 24 24"><path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                                    </span>
                                    <div class="stat-details">
                                        <span class="stat-label">Progress</span>
                                        <span class="stat-value" id="print-progress">47.1%</span>
                                    </div>
                                </div>
                            </div>
                            <div class="stat-row">
                                <div class="stat-item">
                                    <span class="stat-icon">
                                        <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z" fill="none" stroke="currentColor" stroke-width="2"/><path d="M16 2v6h6" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                                    </span>
                                    <div class="stat-details">
                                        <span class="stat-label">Layer Height</span>
                                        <span class="stat-value">0.2mm</span>
                                    </div>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-icon">
                                        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/><path d="M12 6v6l4 2" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                                    </span>
                                    <div class="stat-details">
                                        <span class="stat-label">Print Speed</span>
                                        <span class="stat-value" id="print-speed">60mm/s</span>
                                    </div>
                                </div>
                            </div>
                            <div class="stat-row">
                                <div class="stat-item">
                                    <span class="stat-icon hot">
                                        <svg viewBox="0 0 24 24"><path d="M12 9a4 4 0 014 4c0 2.5-2 3.5-2 6M12 3c.5 2.5-2 4-2 7" fill="none" stroke="currentColor" stroke-width="2"/><rect x="6" y="15" width="12" height="6" rx="2" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                                    </span>
                                    <div class="stat-details">
                                        <span class="stat-label">Nozzle Temp</span>
                                        <span class="stat-value" id="nozzle-temp">205°C</span>
                                    </div>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-icon warm">
                                        <svg viewBox="0 0 24 24"><rect x="4" y="5" width="16" height="14" rx="2" fill="none" stroke="currentColor" stroke-width="2"/><path d="M4 10h16M12 5v14" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                                    </span>
                                    <div class="stat-details">
                                        <span class="stat-label">Bed Temp</span>
                                        <span class="stat-value" id="bed-temp">60°C</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right: G-Code Stream & Timeline -->
                    <div class="details-panel">
                        <!-- G-Code Terminal -->
                        <div class="gcode-panel">
                            <div class="panel-header">
                                <h3>G-Code Stream</h3>
                                <div class="terminal-controls">
                                    <button class="term-btn" id="pause-term">⏸</button>
                                    <button class="term-btn" id="clear-term">⌫</button>
                                </div>
                            </div>
                            <div class="gcode-terminal" id="gcode-terminal">
                                <div class="terminal-line system">
                                    <span class="timestamp">[09:45:12]</span>
                                    <span class="message">Printer connected - Ender-3 V2</span>
                                </div>
                                <div class="terminal-line system">
                                    <span class="timestamp">[09:45:13]</span>
                                    <span class="message">Bed heating to 60°C...</span>
                                </div>
                                <div class="terminal-line system">
                                    <span class="timestamp">[09:46:45]</span>
                                    <span class="message">Nozzle heating to 205°C...</span>
                                </div>
                                <div class="terminal-line command">
                                    <span class="timestamp">[09:47:58]</span>
                                    <span class="cmd">G28</span>
                                    <span class="message">Auto home</span>
                                </div>
                                <div class="terminal-line command">
                                    <span class="timestamp">[09:48:23]</span>
                                    <span class="cmd">G29</span>
                                    <span class="message">Leveling mesh</span>
                                </div>
                                <div class="terminal-line gcode">
                                    <span class="timestamp">[09:48:45]</span>
                                    <span class="cmd">G1</span>
                                    <span class="params">X42.5 Y23.4 Z0.2 F1800</span>
                                </div>
                                <!-- Lines will be added dynamically -->
                            </div>
                            <div class="terminal-input">
                                <span class="prompt">&gt;</span>
                                <input type="text" placeholder="Enter G-code command (disabled during print)" disabled>
                            </div>
                        </div>

                        <!-- Order Details -->
                        <div class="order-details">
                            <h3>Order Details</h3>
                            <div class="details-list">
                                <div class="detail-row">
                                    <span class="detail-label">Product</span>
                                    <span class="detail-value" id="detail-product">Phone Stand - Purple PLA</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Quantity</span>
                                    <span class="detail-value">2 pieces</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Print Started</span>
                                    <span class="detail-value">Today, 09:47 AM</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Est. Complete</span>
                                    <span class="detail-value" id="detail-complete">Today, 12:30 PM</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Filament Used</span>
                                    <span class="detail-value" id="detail-filament">142g / 320g</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Printer</span>
                                    <span class="detail-value">Station #3 (Ender-3 V2)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="track-actions">
                    <button class="btn btn-secondary" id="notify-btn">
                        <svg viewBox="0 0 24 24"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 01-3.46 0" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                        Get Status Updates
                    </button>
                    <a href="https://wa.me/918800000000?text=Hi%20MagniPrints,%20inquiry%20about%20order%20MP25021201" 
                       target="_blank" 
                       class="btn btn-primary">
                        <svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7A8.38 8.38 0 016.5 11.4 8.5 8.5 0 0111.3 3.9 8.38 8.38 0 0115.2 3 8.5 8.5 0 0121 11.5z" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                        Contact Support
                    </a>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer simple">
        <div class="container">
            <p>&copy; 2025 MagniPrints. All rights reserved.</p>
        </div>
    </footer>

    <script src="../js/track.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>
